{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/karea/Documents/HACKATHONs/STELLAR/ahorrostellar/frontend/src/components/ConectarFreighter.tsx"],"sourcesContent":["'use client'\r\nimport freighter from '@stellar/freighter-api'\r\n\r\nexport async function conectarFreighter(): Promise<string> {\r\n  try {\r\n    console.log('üîç Checking Freighter connection...');\r\n    \r\n    // Check if Freighter is connected\r\n    const c = await freighter.isConnected();\r\n    console.log('Connection status:', c);\r\n    \r\n    if (!c.isConnected) {\r\n      throw new Error('Freighter no detectada');\r\n    }\r\n\r\n    // Request permission\r\n    const p = await freighter.setAllowed();\r\n    console.log('Permission status:', p);\r\n    \r\n    if (!p.isAllowed) {\r\n      throw new Error('Permiso denegado');\r\n    }\r\n\r\n    // Try to get address directly\r\n    const a1 = await freighter.getAddress();\r\n    console.log('Get address result:', a1);\r\n    \r\n    if (a1.address) {\r\n      console.log('‚úÖ Address received:', a1.address);\r\n      return a1.address;\r\n    }\r\n\r\n    // If no address, request access\r\n    const a2 = await freighter.requestAccess();\r\n    console.log('Request access result:', a2);\r\n    \r\n    if (a2.error || !a2.address) {\r\n      throw new Error(a2.error || 'Sin address');\r\n    }\r\n    \r\n    console.log('‚úÖ Address received via requestAccess:', a2.address);\r\n    return a2.address;\r\n    \r\n  } catch (error) {\r\n    console.error('‚ùå Error connecting to Freighter:', error);\r\n    throw error;\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;AACA;AADA;;AAGO,eAAe;IACpB,IAAI;QACF,QAAQ,GAAG,CAAC;QAEZ,kCAAkC;QAClC,MAAM,IAAI,MAAM,yKAAA,CAAA,UAAS,CAAC,WAAW;QACrC,QAAQ,GAAG,CAAC,sBAAsB;QAElC,IAAI,CAAC,EAAE,WAAW,EAAE;YAClB,MAAM,IAAI,MAAM;QAClB;QAEA,qBAAqB;QACrB,MAAM,IAAI,MAAM,yKAAA,CAAA,UAAS,CAAC,UAAU;QACpC,QAAQ,GAAG,CAAC,sBAAsB;QAElC,IAAI,CAAC,EAAE,SAAS,EAAE;YAChB,MAAM,IAAI,MAAM;QAClB;QAEA,8BAA8B;QAC9B,MAAM,KAAK,MAAM,yKAAA,CAAA,UAAS,CAAC,UAAU;QACrC,QAAQ,GAAG,CAAC,uBAAuB;QAEnC,IAAI,GAAG,OAAO,EAAE;YACd,QAAQ,GAAG,CAAC,uBAAuB,GAAG,OAAO;YAC7C,OAAO,GAAG,OAAO;QACnB;QAEA,gCAAgC;QAChC,MAAM,KAAK,MAAM,yKAAA,CAAA,UAAS,CAAC,aAAa;QACxC,QAAQ,GAAG,CAAC,0BAA0B;QAEtC,IAAI,GAAG,KAAK,IAAI,CAAC,GAAG,OAAO,EAAE;YAC3B,MAAM,IAAI,MAAM,GAAG,KAAK,IAAI;QAC9B;QAEA,QAAQ,GAAG,CAAC,yCAAyC,GAAG,OAAO;QAC/D,OAAO,GAAG,OAAO;IAEnB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,oCAAoC;QAClD,MAAM;IACR;AACF","debugId":null}}]
}