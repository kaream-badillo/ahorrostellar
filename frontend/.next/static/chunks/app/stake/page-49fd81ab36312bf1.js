(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[775],{1401:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});let l=(0,t(7982).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},2033:(e,s,t)=>{"use strict";t.d(s,{o:()=>n});var l=t(1521),a=t(8934),r=t(185);function n(e){let{state:s}=(0,r.n)(),{wallet:t}=s,n=e||t.publicKey,[i,c]=(0,l.useState)({price:0,timestamp:0,loading:!0,error:null}),[d,o]=(0,l.useState)({price:0,timestamp:0,loading:!0,error:null}),[x,m]=(0,l.useState)({price:0,timestamp:0,loading:!0,error:null});return(0,l.useEffect)(()=>{if(!n){c(e=>({...e,loading:!1,error:"wallet not connected"})),o(e=>({...e,loading:!1,error:"wallet not connected"})),m(e=>({...e,loading:!1,error:"wallet not connected"}));return}let e=async()=>{try{try{let e=await (0,a.priceUSDCinUSD)(n);c({price:e,timestamp:Math.floor(Date.now()/1e3),loading:!1,error:null})}catch(e){c(e=>({...e,loading:!1,error:"USDC price unavailable"}))}try{let e=await (0,a.priceXLMinUSD)(n);o({price:e,timestamp:Math.floor(Date.now()/1e3),loading:!1,error:null})}catch(e){o(e=>({...e,loading:!1,error:"XLM price unavailable"}))}try{let e=await (0,a.usdPerCLP)(n);m({price:1/e,timestamp:Math.floor(Date.now()/1e3),loading:!1,error:null})}catch(e){m(e=>({...e,loading:!1,error:"CLP price unavailable"}))}}catch(e){console.error("Error fetching prices:",e),c(s=>({...s,loading:!1,error:e.message})),o(s=>({...s,loading:!1,error:e.message})),m(s=>({...s,loading:!1,error:e.message}))}};e();let s=setInterval(e,3e4);return()=>clearInterval(s)},[n]),{usdcUsd:i,xlmUsd:d,clpUsd:x,convertUsdcToUsd:e=>e*i.price,convertXlmToUsd:e=>e*d.price,convertClpToUsd:e=>e*x.price}}},2625:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});let l=(0,t(7982).A)("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},2683:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>L,dynamic:()=>D});var l=t(3365),a=t(1521),r=t(7982);let n=(0,r.A)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var i=t(2625),c=t(2717);let d=(0,r.A)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var o=t(2393),x=t(1401),m=t(7216),u=t(3333),h=t(1695),g=t(5350),b=t(185),p=t(2033),j=t(6182),f=t.n(j),N=t(9534),v=t.n(N),y=t(4089);function w(){let e="true"===y.env.NEXT_PUBLIC_DEV_WALLET_MOCK,s="GCW225D7H6JQBEM7XVKE2AX7KGPVI3FPU3SS6A2MQMZTXNY6KDGZNSEX";return e&&s?(0,l.jsxs)("div",{className:"alert alert-info text-sm",children:["Wallet conectada (DEMO): ",(0,l.jsxs)("b",{children:[s.slice(0,6),"…",s.slice(-6)]})]}):null}let k=e=>{let s,t=new Set,l=(e,l)=>{let a="function"==typeof e?e(s):e;if(!Object.is(a,s)){let e=s;s=(null!=l?l:"object"!=typeof a||null===a)?a:Object.assign({},s,a),t.forEach(t=>t(s,e))}},a=()=>s,r={setState:l,getState:a,getInitialState:()=>n,subscribe:e=>(t.add(e),()=>t.delete(e))},n=s=e(l,a,r);return r},S=e=>{let s=(e=>e?k(e):k)(e),t=e=>(function(e,s=e=>e){let t=a.useSyncExternalStore(e.subscribe,a.useCallback(()=>s(e.getState()),[e,s]),a.useCallback(()=>s(e.getInitialState()),[e,s]));return a.useDebugValue(t),t})(s,e);return Object.assign(t,s),t},C=(e=>e?S(e):S)((e,s)=>({items:[],add:t=>{let l=[{id:crypto.randomUUID(),ts:Date.now(),...t},...s().items].slice(0,50);e({items:l});try{localStorage.setItem("stakes",JSON.stringify(l))}catch(e){}},clear:()=>{e({items:[]});try{localStorage.removeItem("stakes")}catch(e){}}}));try{let e=JSON.parse(localStorage.getItem("stakes")||"[]");C.setState({items:e})}catch(e){}let D="force-dynamic";function L(){let{state:e,makeStake:s,connectWallet:r}=(0,b.n)(),{wallet:j,projects:N,isLoading:y,user:k}=e,[S,D]=(0,a.useState)(""),[L,A]=(0,a.useState)(50),[U,E]=(0,a.useState)(7),[M,I]=(0,a.useState)(j.publicKey||void 0),[F,P]=(0,a.useState)("USDC"),[B,V]=(0,a.useState)(0),{priceUSD:X,loading:O,error:K}=function(e){let[s,l]=(0,a.useState)(null),[r,n]=(0,a.useState)(!1),[i,c]=(0,a.useState)(null);return(0,a.useEffect)(()=>{let s=!0;return(async()=>{try{n(!0),c(null);0;let{priceUSDCinUSD:a,usdPerCLP:r,priceXLMinUSD:i}=await Promise.resolve().then(t.bind(t,8934)),d=0;if("USDC"===e)d=await a();else if("CLP"===e){let e=await r();d=1/e}else"XLM"===e&&(d=await i());s&&l(d)}catch(e){s&&c(e.message||"price fetch failed")}finally{s&&n(!1)}})(),()=>{s=!1}},[e]),{priceUSD:s,loading:r,error:i}}(F),T=X?B*X:0,{items:_,add:q,clear:G}=C(),{isInstalled:R,isConnected:W,publicKey:Y,connect:$}=(()=>{let[e,s]=(0,a.useState)({isInstalled:!1,isConnected:!1,publicKey:null,isLoading:!0,error:null});(0,a.useEffect)(()=>{let e=async()=>{s(e=>({...e,isLoading:!0,error:null}));try{if(await new Promise(e=>setTimeout(e,1e3)),void 0===window.freighterApi)return void s({isInstalled:!1,isConnected:!1,publicKey:null,isLoading:!1,error:"Freighter API not found"});s(e=>({...e,isInstalled:!0}));try{let e=await f().isConnected();if(console.log("Freighter connection check:",e),e.isConnected){let e=await f().getAddress();console.log("Freighter address check:",e),s({isInstalled:!0,isConnected:!0,publicKey:e.address||null,isLoading:!1,error:null})}else s({isInstalled:!0,isConnected:!1,publicKey:null,isLoading:!1,error:null})}catch(e){s({isInstalled:!0,isConnected:!1,publicKey:null,isLoading:!1,error:"Connection check failed"})}}catch(e){s({isInstalled:!1,isConnected:!1,publicKey:null,isLoading:!1,error:e instanceof Error?e.message:"Unknown error"})}};e();let t=setInterval(e,3e3);return()=>clearInterval(t)},[]);let l=async()=>{if(!e.isInstalled)throw Error("Freighter not installed");s(e=>({...e,isLoading:!0,error:null}));try{let{conectarFreighter:e}=await t.e(583).then(t.bind(t,2583)),l=await e();return s({isInstalled:!0,isConnected:!0,publicKey:l,isLoading:!1,error:null}),l}catch(t){let e=t instanceof Error?t.message:"Connection failed";throw s(s=>({...s,isLoading:!1,error:e})),t}};return{...e,connect:l,disconnect:()=>{s({isInstalled:e.isInstalled,isConnected:!1,publicKey:null,isLoading:!1,error:null})}}})(),{usdcUsd:z,xlmUsd:H}=(0,p.o)(M),J={usdcUsd:z.error?{price:1,loading:!1,error:null}:z,xlmUsd:H.error?{price:.12,loading:!1,error:null}:H};if(!M)return(0,l.jsx)(g.A,{children:(0,l.jsxs)("div",{className:"text-center py-12",children:[(0,l.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Vote with your Savings"}),(0,l.jsx)("p",{className:"text-lg text-gray-600 mb-6",children:"Connect your wallet to see live prices and participate in voting"}),(0,l.jsx)("div",{className:"max-w-2xl mx-auto mb-8",children:(0,l.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 mb-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[(0,l.jsx)(n,{className:"w-6 h-6 text-green-600"}),(0,l.jsx)("h3",{className:"text-lg font-semibold text-green-800",children:"Demo Mode Active"})]}),(0,l.jsx)("p",{className:"text-green-700 mb-4",children:"To try the full flow, you can simulate the wallet connection."}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("span",{className:"w-6 h-6 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"1"}),(0,l.jsx)("span",{className:"text-green-700",children:'Click "Simulate Connection" to continue'})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("span",{className:"w-6 h-6 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"2"}),(0,l.jsx)("span",{className:"text-green-700",children:"Explore available projects"})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("span",{className:"w-6 h-6 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"3"}),(0,l.jsx)("span",{className:"text-green-700",children:"Test the full voting flow"})]})]})]})}),(0,l.jsx)(u.A,{onClick:()=>{I("GDEMO1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ"),console.log("Demo mode: Simulating wallet connection")},size:"lg",className:"bg-green-600 hover:bg-green-700",children:"\uD83D\uDE80 Simulate Connection (Demo)"}),!R&&!M&&(0,l.jsx)("div",{className:"mt-8 max-w-2xl mx-auto",children:(0,l.jsxs)("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[(0,l.jsx)(n,{className:"w-6 h-6 text-orange-600"}),(0,l.jsx)("h3",{className:"text-lg font-semibold text-orange-800",children:"For real use: Freighter Wallet"})]}),(0,l.jsx)("p",{className:"text-orange-700 mb-4",children:"For real transactions you need to install the Freighter extension."}),(0,l.jsx)("div",{className:"mt-4 flex space-x-3 justify-center",children:(0,l.jsx)("a",{href:"https://freighter.app/",target:"_blank",rel:"noopener noreferrer",className:"px-6 py-3 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors font-semibold",children:"Install Freighter"})})]})})]})});let Q=window.stellar,Z=async e=>{if(!M)return void alert('Connect your wallet first using the "Simulate Connection" button');D(e);let s=document.getElementById("stake-modal");s&&s.classList.remove("hidden")};return(0,l.jsxs)(g.A,{children:[(0,l.jsxs)("div",{className:"mb-12",children:[(0,l.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-4xl font-bold text-gray-900",children:"Vote-Save"}),(0,l.jsx)("p",{className:"text-lg text-gray-600 mt-2",children:"Temporarily lock USDC as a symbolic vote to back university projects"})]})}),!M&&(0,l.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,l.jsx)(n,{className:"w-5 h-5 text-blue-600"}),(0,l.jsx)("h3",{className:"text-lg font-semibold text-blue-800",children:"Modo Lectura"})]}),(0,l.jsx)("p",{className:"text-blue-700 text-sm mb-4",children:"Precios reales con cuenta READONLY (sin wallet) usando Reflector Oracle"}),(0,l.jsx)(w,{}),(0,l.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,l.jsxs)("select",{className:"select select-bordered",value:F,onChange:e=>P(e.target.value),children:[(0,l.jsx)("option",{children:"USDC"}),(0,l.jsx)("option",{children:"CLP"}),(0,l.jsx)("option",{children:"XLM"})]}),(0,l.jsx)("input",{className:"input input-bordered w-40",type:"number",step:"0.01",placeholder:"Monto",value:B||"",onChange:e=>V(Number(e.target.value))}),(0,l.jsx)("button",{className:"btn btn-primary",onClick:()=>{X&&!(B<=0)&&q({asset:F,amount:B,usd:Number((B*X).toFixed(2))})},disabled:!X||B<=0,children:"Vote-Save (mock)"})]}),O&&(0,l.jsx)("div",{className:"text-sm opacity-70",children:"Cargando precio…"}),K&&(0,l.jsxs)("div",{className:"text-sm text-red-600",children:["Error precio: ",K]}),(0,l.jsxs)("div",{className:"text-sm",children:["1 ",F," ≈ ",(0,l.jsx)("b",{children:X?X.toFixed(6):"—"})," USD \xa0|\xa0 Equivalente: ",(0,l.jsxs)("b",{children:[X?T.toFixed(2):"—"," USD"]})]}),(0,l.jsx)("div",{className:"divider",children:"Tus stakes (mock / local)"}),(0,l.jsxs)("div",{className:"space-y-2",children:[0===_.length&&(0,l.jsx)("div",{className:"text-sm opacity-70",children:"Sin registros"}),_.map(e=>(0,l.jsxs)("div",{className:"flex justify-between items-center p-3 rounded border",children:[(0,l.jsx)("div",{className:"text-sm",children:new Date(e.ts).toLocaleString()}),(0,l.jsxs)("div",{className:"text-sm font-mono",children:[e.amount," ",e.asset]}),(0,l.jsxs)("div",{className:"text-sm",children:[e.usd.toFixed(2)," USD"]})]},e.id))]}),_.length>0&&(0,l.jsx)("button",{className:"btn btn-outline btn-sm",onClick:G,children:"Borrar historial"})]}),(0,l.jsx)("div",{className:"mt-6 flex justify-center",children:(0,l.jsx)("div",{className:"p-3 bg-green-50 border border-green-200 rounded",children:(0,l.jsxs)("div",{className:"text-sm text-green-700",children:["✅ Wallet connected: ",M.slice(0,4),"…",M.slice(-4)]})})}),k&&(0,l.jsxs)("div",{className:"mt-6",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,l.jsxs)("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg text-center",children:[(0,l.jsxs)("div",{className:"text-2xl font-bold text-blue-600",children:["$",k.activeStakes.toFixed(2)]}),(0,l.jsx)("div",{className:"text-sm text-blue-700",children:"Locked Savings"})]}),(0,l.jsxs)("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg text-center",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-green-600",children:k.totalProjects}),(0,l.jsx)("div",{className:"text-sm text-green-700",children:"Backed Projects"})]}),(0,l.jsxs)("div",{className:"p-4 bg-purple-50 border border-purple-200 rounded-lg text-center",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:k.reputation}),(0,l.jsx)("div",{className:"text-sm text-purple-700",children:"Reputation Points"})]})]}),k.totalProjects>0&&(0,l.jsx)("div",{className:"text-center",children:(0,l.jsx)(v(),{href:"/dashboard",children:(0,l.jsx)(u.A,{variant:"outline",className:"text-sm",children:"\uD83D\uDCCA View my backed projects in the Dashboard"})})})]}),(0,l.jsxs)("div",{className:"mt-6 flex justify-center",children:[J.usdcUsd.loading&&(0,l.jsx)("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded",children:(0,l.jsx)("span",{className:"text-sm text-gray-600",children:"Loading prices from Reflector Oracle..."})}),!J.usdcUsd.loading&&J.usdcUsd.price>0&&(0,l.jsxs)("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded",children:[(0,l.jsxs)("div",{className:"flex space-x-4 text-sm",children:[(0,l.jsxs)("span",{className:"text-blue-700",children:["USDC/USD: $",J.usdcUsd.price.toFixed(4)]}),(0,l.jsxs)("span",{className:"text-green-700",children:["XLM/USD: $",J.xlmUsd.price.toFixed(4)]})]}),(0,l.jsxs)("div",{className:"text-xs text-blue-600 mt-1",children:["\uD83D\uDCCA ",z.error?"Demo prices (simulation mode)":"Live prices from Reflector Oracle"]})]})]})]}),(0,l.jsxs)("div",{className:"mb-12",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-8 text-center",children:"Available Projects"}),!1,!(j.isConnected||M)&&!Q&&(0,l.jsxs)("div",{className:"mb-8 p-4 bg-orange-50 border border-orange-200 rounded-lg text-center max-w-2xl mx-auto",children:[(0,l.jsxs)("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[(0,l.jsx)(n,{className:"w-5 h-5 text-orange-600"}),(0,l.jsx)("span",{className:"font-semibold text-orange-800",children:"Install Freighter to participate"})]}),(0,l.jsx)("p",{className:"text-sm text-orange-700",children:"You need the Freighter extension to vote with your savings"}),(0,l.jsx)("a",{href:"https://freighter.app/",target:"_blank",rel:"noopener noreferrer",className:"inline-block mt-2 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors text-sm",children:"Download Freighter"})]}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:N&&N.length>0?N.map(e=>(0,l.jsx)(h.A,{className:"hover:shadow-lg transition-shadow",children:(0,l.jsxs)("div",{className:"p-6",children:[(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:e.title}),(0,l.jsx)("p",{className:"text-gray-600 text-sm mb-3",children:e.description}),(0,l.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,l.jsx)(i.A,{className:"w-4 h-4 text-purple-600"}),(0,l.jsxs)("span",{className:"text-sm font-medium text-purple-700",children:["Up to ",e.bonusPercent,"% bonus if funded"]})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4 text-sm",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-gray-500",children:"Total backed"}),(0,l.jsxs)("p",{className:"font-semibold text-blue-600",children:["$",e.totalStaked.toLocaleString()]}),e.myStake>0&&(0,l.jsxs)("p",{className:"text-xs text-green-600",children:["+$",e.myStake.toFixed(2)," tuyo"]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-gray-500",children:"Voters"}),(0,l.jsx)("p",{className:"font-semibold text-gray-900",children:e.stakers}),e.myStake>0&&(0,l.jsx)("p",{className:"text-xs text-green-600",children:"You voted!"})]})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[(0,l.jsx)("span",{children:"Progress"}),(0,l.jsxs)("span",{children:[e.progress,"%"]})]}),(0,l.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,l.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(e.progress,"%")}})})]}),(0,l.jsxs)("div",{className:"flex space-x-3",children:[(0,l.jsxs)(u.A,{onClick:()=>Z(e.id),className:"flex-1",size:"sm",children:[(0,l.jsx)(c.A,{className:"w-4 h-4 mr-2"}),"Vote-Save"]}),(0,l.jsx)(v(),{href:"/proyectos/".concat(e.id),children:(0,l.jsxs)(u.A,{variant:"ghost",size:"sm",className:"flex items-center",children:[(0,l.jsx)(d,{className:"w-4 h-4 mr-2"}),"View details"]})})]})]})},e.id)):(0,l.jsx)("div",{className:"col-span-full text-center py-12",children:(0,l.jsxs)("div",{className:"text-gray-500 mb-4",children:[(0,l.jsx)(n,{className:"w-12 h-12 mx-auto mb-4"}),(0,l.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No hay proyectos disponibles"}),(0,l.jsx)("p",{children:"Los proyectos se est\xe1n cargando o no hay proyectos activos en este momento."})]})})})]}),(0,l.jsx)(h.A,{className:"mb-12 max-w-4xl mx-auto",children:(0,l.jsxs)("div",{className:"p-8",children:[(0,l.jsx)("h3",{className:"text-2xl font-bold mb-6 text-gray-900 text-center",children:"How it works"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,l.jsx)("span",{className:"text-blue-600 text-lg font-bold",children:"1"})}),(0,l.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"Lock USDC"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Your money is safe for 7 days"})]}),(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,l.jsx)("span",{className:"text-blue-600 text-lg font-bold",children:"2"})}),(0,l.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"Vote symbolically"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Support projects you believe should win"})]}),(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,l.jsx)("span",{className:"text-blue-600 text-lg font-bold",children:"3"})}),(0,l.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"Gain reputation"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"And a possible bonus if the project wins"})]})]})]})}),(0,l.jsx)(h.A,{className:"mb-12 max-w-4xl mx-auto",children:(0,l.jsxs)("div",{className:"p-8",children:[(0,l.jsx)("h3",{className:"text-2xl font-bold mb-6 text-gray-900 text-center",children:"Benefits"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)(o.A,{className:"w-5 h-5 text-green-600"}),(0,l.jsx)("span",{className:"text-sm text-gray-700",children:"No risk of loss"})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)(x.A,{className:"w-5 h-5 text-blue-600"}),(0,l.jsx)("span",{className:"text-sm text-gray-700",children:"Build public reputation"})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)(i.A,{className:"w-5 h-5 text-purple-600"}),(0,l.jsx)("span",{className:"text-sm text-gray-700",children:"Possible conditional reward"})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)(m.A,{className:"w-5 h-5 text-orange-600"}),(0,l.jsx)("span",{className:"text-sm text-gray-700",children:"Practical Web3 education"})]})]})]})}),(0,l.jsx)("div",{id:"stake-modal",className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 hidden",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[(0,l.jsx)("h3",{className:"text-xl font-bold mb-4",children:"Configure your Vote"}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Selected Project"}),(0,l.jsxs)("select",{value:S,onChange:e=>D(e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,l.jsx)("option",{value:"",children:"Elige un proyecto para respaldar"}),N.map(e=>(0,l.jsx)("option",{value:e.id,children:e.title},e.id))]})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Token para el Stake"}),(0,l.jsxs)("select",{value:F,onChange:e=>P(e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,l.jsx)("option",{value:"USDC",children:"USDC"}),(0,l.jsx)("option",{value:"XLM",children:"XLM"}),(0,l.jsx)("option",{value:"CLP",children:"CLP"})]}),O&&(0,l.jsx)("div",{className:"text-sm text-blue-600 mt-1",children:"Cargando precio…"}),K&&(0,l.jsxs)("div",{className:"text-sm text-red-600 mt-1",children:["Error precio: ",K]}),(0,l.jsxs)("div",{className:"text-sm text-gray-600 mt-1",children:["1 ",F," ≈ ",(0,l.jsxs)("b",{children:["USDC"===F?"1.0000":"XLM"===F?"0.1200":"0.0010"," USD"]})," (demo)"]})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cantidad a Bloquear"}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("input",{type:"number",value:B||"",onChange:e=>V(Number(e.target.value)),min:"1",max:"10000",step:"0.01",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ingresa cantidad"}),(0,l.jsx)("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:F})]}),B>0&&(0,l.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Equivalent: ",(0,l.jsxs)("b",{children:["USDC"===F?(+B).toFixed(2):"XLM"===F?(.12*B).toFixed(2):(.001*B).toFixed(2)," USD"]})," (demo)"]})]}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lock Duration"}),(0,l.jsxs)("select",{value:U,onChange:e=>E(Number(e.target.value)),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,l.jsx)("option",{value:7,children:"7 days (recommended)"}),(0,l.jsx)("option",{value:14,children:"14 days"}),(0,l.jsx)("option",{value:30,children:"30 days"})]}),(0,l.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Your ",F," will automatically unlock at the end of the period"]})]}),(0,l.jsxs)("div",{className:"flex space-x-3",children:[(0,l.jsx)(u.A,{onClick:()=>{if(S&&B>0){var e;let t="USDC"===F?+B:"XLM"===F?.12*B:.001*B,l=N.find(e=>e.id===S);l&&s(S,t),q({asset:F,amount:B,usd:Number(t.toFixed(2))}),null==(e=document.getElementById("stake-modal"))||e.classList.add("hidden"),alert("✅ Vote recorded successfully!\n\n".concat(B," ").concat(F," ($").concat(t.toFixed(2),') for "').concat(null==l?void 0:l.title,'"\n\nGo to the dashboard to see all your stats and backed projects.'))}},disabled:!S||!B||y,className:"flex-1",children:y?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Processing..."]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(c.A,{className:"w-5 h-5 mr-2"}),"Vote with ",B||0," ",F]})}),(0,l.jsx)(u.A,{variant:"ghost",onClick:()=>{var e;return null==(e=document.getElementById("stake-modal"))?void 0:e.classList.add("hidden")},children:"Cancel"})]})]})}),y&&(0,l.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,l.jsxs)("div",{className:"bg-white rounded-lg p-6 flex items-center space-x-4",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,l.jsx)("span",{className:"text-gray-700",children:"Processing vote..."})]})})]})}},3303:(e,s,t)=>{Promise.resolve().then(t.bind(t,2683))},3333:(e,s,t)=>{"use strict";t.d(s,{A:()=>i});var l=t(3365),a=t(1521),r=t(4130);let n=a.forwardRef((e,s)=>{let{className:t,variant:a="primary",size:n="md",children:i,...c}=e;return(0,l.jsx)("button",{className:(0,r.cn)("inline-flex items-center justify-center font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-stellarBlue",{primary:"btn-stellar",secondary:"bg-stellarPurple hover:bg-purple-600 text-white shadow-lg hover:shadow-xl",outline:"border-2 border-stellarBlue text-stellarBlue hover:bg-stellarBlue hover:text-white shadow-md hover:shadow-lg",ghost:"text-gray-600 hover:text-stellarBlue hover:bg-stellar-50"}[a],{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[n],t),ref:s,...c,children:i})});n.displayName="Button";let i=n},7216:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});let l=(0,t(7982).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])}},e=>{e.O(0,[572,995,158,746,566,697,347,508,358],()=>e(e.s=3303)),_N_E=e.O()}]);