(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{2033:(e,s,a)=>{"use strict";a.d(s,{o:()=>i});var t=a(1521),r=a(8934),l=a(185);function i(e){let{state:s}=(0,l.n)(),{wallet:a}=s,i=e||a.publicKey,[c,n]=(0,t.useState)({price:0,timestamp:0,loading:!0,error:null}),[d,o]=(0,t.useState)({price:0,timestamp:0,loading:!0,error:null}),[x,m]=(0,t.useState)({price:0,timestamp:0,loading:!0,error:null});return(0,t.useEffect)(()=>{if(!i){n(e=>({...e,loading:!1,error:"wallet not connected"})),o(e=>({...e,loading:!1,error:"wallet not connected"})),m(e=>({...e,loading:!1,error:"wallet not connected"}));return}let e=async()=>{try{try{let e=await (0,r.priceUSDCinUSD)(i);n({price:e,timestamp:Math.floor(Date.now()/1e3),loading:!1,error:null})}catch(e){n(e=>({...e,loading:!1,error:"USDC price unavailable"}))}try{let e=await (0,r.priceXLMinUSD)(i);o({price:e,timestamp:Math.floor(Date.now()/1e3),loading:!1,error:null})}catch(e){o(e=>({...e,loading:!1,error:"XLM price unavailable"}))}try{let e=await (0,r.usdPerCLP)(i);m({price:1/e,timestamp:Math.floor(Date.now()/1e3),loading:!1,error:null})}catch(e){m(e=>({...e,loading:!1,error:"CLP price unavailable"}))}}catch(e){console.error("Error fetching prices:",e),n(s=>({...s,loading:!1,error:e.message})),o(s=>({...s,loading:!1,error:e.message})),m(s=>({...s,loading:!1,error:e.message}))}};e();let s=setInterval(e,3e4);return()=>clearInterval(s)},[i]),{usdcUsd:c,xlmUsd:d,clpUsd:x,convertUsdcToUsd:e=>e*c.price,convertXlmToUsd:e=>e*d.price,convertClpToUsd:e=>e*x.price}}},4654:(e,s,a)=>{Promise.resolve().then(a.bind(a,4664))},4664:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>p});var t=a(3365),r=a(5350),l=a(185),i=a(1521),c=a(1695);function n(e){let{title:s,value:a,icon:r,trend:l,subtitle:i,className:n}=e;return(0,t.jsx)(c.A,{className:n,children:(0,t.jsxs)("div",{className:"text-center p-6",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-stellar-100 rounded-xl flex items-center justify-center mx-auto mb-6",children:(0,t.jsx)(r,{className:"w-8 h-8 text-stellarBlue"})}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:s}),(0,t.jsx)("div",{className:"text-3xl font-bold gradient-text mb-2",children:a}),i&&(0,t.jsx)("div",{className:"text-sm text-green-600 mb-2",children:i}),l&&(0,t.jsxs)("div",{className:"flex items-center justify-center text-sm ".concat(l.isPositive?"text-green-600":"text-red-600"),children:[(0,t.jsx)("span",{className:l.isPositive?"↑":"↓"}),(0,t.jsxs)("span",{className:"ml-1",children:[Math.abs(l.value),"%"]})]})]})})}var d=a(2033),o=a(7982);let x=(0,o.A)("wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]),m=(0,o.A)("folder-open",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);var h=a(7216);let g=(0,o.A)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);function p(){let{state:e}=(0,l.n)(),{user:s,isLoading:a}=e,o=function(){let[e,s]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{s(!0)},[]),e}(),{usdcUsd:p,xlmUsd:j}=(0,d.o)();return s?(0,t.jsx)(r.A,{children:(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Tu Reputaci\xf3n de Votante"}),(0,t.jsx)("p",{className:"text-lg text-gray-600 mb-4",children:"Tu historial de respaldos simb\xf3licos y reconocimiento p\xfablico"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,t.jsx)(n,{title:"Ahorro Actual (USDC bloqueado)",value:"".concat(s.activeStakes," USDC"),icon:x,trend:{value:15,isPositive:!0},subtitle:o?p.price>0?"≈ $".concat((s.activeStakes*p.price).toFixed(2)," USD"):p.error?"Error loading price":"Loading...":"Loading..."}),(0,t.jsx)(n,{title:"Proyectos Respaldados",value:s.totalProjects.toString(),icon:m}),(0,t.jsx)(n,{title:"Reputaci\xf3n P\xfablica",value:s.reputation.toString(),icon:h.A,trend:{value:8,isPositive:!0}})]}),(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Panel de Precios en Tiempo Real"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsx)(c.A,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold text-gray-700",children:"USDC/USD"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Precio de USDC"})]}),(0,t.jsx)("div",{className:"text-right",children:o?p.loading?(0,t.jsx)("span",{className:"text-gray-500",children:"Cargando..."}):p.error?(0,t.jsx)("span",{className:"text-red-500",children:"Error"}):(0,t.jsxs)("span",{className:"text-2xl font-bold text-blue-600",children:["$",p.price.toFixed(4)]}):(0,t.jsx)("span",{className:"text-gray-500",children:"Cargando..."})})]})}),(0,t.jsx)(c.A,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold text-gray-700",children:"XLM/USD"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Precio de Stellar"})]}),(0,t.jsx)("div",{className:"text-right",children:o?j.loading?(0,t.jsx)("span",{className:"text-gray-500",children:"Cargando..."}):j.error?(0,t.jsx)("span",{className:"text-red-500",children:"Error"}):(0,t.jsxs)("span",{className:"text-2xl font-bold text-green-600",children:["$",j.price.toFixed(4)]}):(0,t.jsx)("span",{className:"text-gray-500",children:"Cargando..."})})]})})]}),(0,t.jsx)("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(g,{className:"w-4 h-4 text-blue-600"}),(0,t.jsx)("span",{className:"text-sm text-blue-800",children:"Precios actualizados desde Reflector Oracle en Soroban Testnet"})]})})]}),e.projects.filter(e=>e.myStake>0).length>0&&(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Mis Proyectos Respaldados"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.projects.filter(e=>e.myStake>0).map(e=>(0,t.jsx)(c.A,{className:"hover:shadow-lg transition-shadow border-green-200 bg-green-50",children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("h4",{className:"text-lg font-bold text-gray-900 mb-2",children:e.title}),(0,t.jsx)("p",{className:"text-gray-600 text-sm mb-3",children:e.description}),(0,t.jsxs)("div",{className:"bg-green-100 border border-green-300 rounded-lg p-3 mb-4",children:[(0,t.jsx)("div",{className:"flex items-center space-x-2 mb-2",children:(0,t.jsx)("span",{className:"text-green-800 font-semibold",children:"Tu Respaldo"})}),(0,t.jsxs)("p",{className:"text-green-700 font-bold text-lg",children:["$",e.myStake.toFixed(2)," USD"]}),(0,t.jsx)("p",{className:"text-green-600 text-sm",children:"Bloqueado temporalmente"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-500",children:"Total respaldado"}),(0,t.jsxs)("p",{className:"font-semibold text-blue-600",children:["$",e.totalStaked.toLocaleString()]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-500",children:"Progreso"}),(0,t.jsxs)("p",{className:"font-semibold text-gray-900",children:[e.progress.toFixed(1),"%"]})]})]}),(0,t.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-4",children:(0,t.jsx)("div",{className:"bg-green-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(e.progress,"%")}})}),(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)("span",{className:"text-xs text-green-600 font-semibold",children:"✅ Proyecto respaldado por ti"})})]})},e.id))})]}),(0,t.jsx)("div",{className:"text-sm text-gray-500 italic mt-4",children:"Pr\xf3ximamente: panel de reputaci\xf3n, visualizaci\xf3n global y votaci\xf3n p\xfablica."}),a&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg p-6 flex items-center space-x-4",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,t.jsx)("span",{className:"text-gray-700",children:"Cargando datos..."})]})})]})}):(0,t.jsx)(r.A,{children:(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Usuario no encontrado"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Por favor, conecta tu wallet para continuar."})]})})}},7216:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(7982).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])}},e=>{e.O(0,[572,158,995,746,566,697,347,508,358],()=>e(e.s=4654)),_N_E=e.O()}]);